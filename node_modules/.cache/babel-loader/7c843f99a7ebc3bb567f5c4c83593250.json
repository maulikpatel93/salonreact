{"ast":null,"code":"import axios from \"axios\";\nimport { store } from \"../store\";\nimport config from \"../config\";\nimport authHeader from \"./auth-header\";\nimport { setMessage, clearMessage } from \"../store/slices/message\";\nconst API_URL = config.API_URL;\n\nconst create = values => {\n  const auth = store.getState().auth;\n  const auth_key = auth.user.auth_key;\n  const formData = new FormData();\n\n  for (let value in values) {\n    if ([\"gender\"].includes(value) && values[value] && typeof values[value] === \"object\") {\n      formData.append(value, values[value].value);\n    } else {\n      formData.append(value, values[value]);\n    }\n  }\n\n  const action = \"afterlogin/client/store\";\n  formData.append(\"auth_key\", auth_key);\n  formData.append(\"action\", action);\n  formData.append(\"role_id\", 6);\n  formData.append(\"salon_id\", auth.user.salon_id);\n  return axios.post(API_URL + action, formData, {\n    headers: authHeader({\n      contentType: \"multipart/form-data\"\n    })\n  });\n};\n\nconst update = values => {\n  const auth = store.getState().auth;\n  const auth_key = auth.user.auth_key;\n  const formData = new FormData();\n\n  for (let value in values) {\n    if ([\"gender\"].includes(value) && values[value] && typeof values[value] === \"object\") {\n      formData.append(value, values[value].value);\n    } else {\n      formData.append(value, values[value]);\n    }\n  }\n\n  const action = \"afterlogin/client/update/\" + values.id;\n  formData.append(\"auth_key\", auth_key);\n  formData.append(\"action\", action);\n  formData.append(\"role_id\", 6);\n  formData.append(\"salon_id\", auth.user.salon_id);\n  return axios.post(API_URL + action, formData, {\n    headers: authHeader({\n      contentType: \"multipart/form-data\"\n    })\n  });\n};\n\nconst view = values => {\n  const auth = store.getState().auth;\n  const auth_key = auth.user.auth_key;\n  const sort = values && values.sort;\n  const page = values && values.page;\n  const next_page_url = values && values.next_page_url;\n  const result = values && values.result ? values.result : '';\n  let sortstring = \"\";\n\n  if (sort) {\n    let sortArray = [];\n    Object.keys(sort).map(function (key, index) {\n      sortArray[index] = `sort[${key}]=${sort[key]}`;\n    });\n\n    if (sortArray.length > 0) {\n      let jsort = sortArray.join(\"&\");\n      sortstring = jsort;\n    }\n  }\n\n  const action = page ? `afterlogin/client/view?page=${page}&${sortstring}` : `afterlogin/client/view?${sortstring}`;\n  const data = {\n    auth_key: auth_key,\n    action: action,\n    role_id: 6,\n    salon_id: auth.user.salon_id,\n    pagination: values && values.id ? false : true,\n    //true or false\n    id: values && values.id ? values.id : \"\",\n    field: values && values.id ? \"\" : \"first_name,last_name,email,profile_photo,phone_number\",\n    // first_name,last_name,email\n    salon_field: false,\n    //business_name,owner_name\n    result: result //business_name,owner_name\n\n  };\n  return axios.post(next_page_url ? `${next_page_url}&${sortstring}` : API_URL + action, data, {\n    headers: authHeader()\n  });\n};\n\nconst deleted = values => {\n  const auth = store.getState().auth;\n  const auth_key = auth.user.auth_key;\n  const action = `afterlogin/client/delete/${values.id}`;\n  const data = {\n    auth_key: auth_key,\n    action: action\n  };\n  return axios.post(API_URL + action, data, {\n    headers: authHeader()\n  });\n};\n\nconst suggetionlist = values => {\n  const auth = store.getState().auth;\n  const auth_key = auth.user.auth_key;\n  const page = values && values.page;\n  const next_page_url = values && values.next_page_url;\n  let q = values && values.q ? values.q : \"\";\n  const action = page ? `afterlogin/client/view?page=${page}&q=${q}` : `afterlogin/client/view?q=${q}`;\n  const data = {\n    auth_key: auth_key,\n    action: action,\n    role_id: 6,\n    salon_id: auth.user.salon_id,\n    pagination: true,\n    //true or false\n    id: values && values.id ? values.id : \"\",\n    field: values && values.id ? \"\" : \"first_name,last_name,email,profile_photo,phone_number\",\n    // first_name,last_name,email\n    salon_field: false //business_name,owner_name\n\n  };\n  return axios.post(next_page_url ? `${next_page_url}&q=${q}` : API_URL + action, data, {\n    headers: authHeader()\n  });\n};\n\nconst clientApiController = {\n  create,\n  update,\n  view,\n  deleted,\n  suggetionlist\n};\nexport default clientApiController;","map":{"version":3,"sources":["/opt/lampp/htdocs/git/salonreact/src/services/client.service.js"],"names":["axios","store","config","authHeader","setMessage","clearMessage","API_URL","create","values","auth","getState","auth_key","user","formData","FormData","value","includes","append","action","salon_id","post","headers","contentType","update","id","view","sort","page","next_page_url","result","sortstring","sortArray","Object","keys","map","key","index","length","jsort","join","data","role_id","pagination","field","salon_field","deleted","suggetionlist","q","clientApiController"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { store } from \"../store\";\nimport config from \"../config\";\nimport authHeader from \"./auth-header\";\nimport { setMessage, clearMessage } from \"../store/slices/message\";\n\nconst API_URL = config.API_URL;\n\nconst create = (values) => {\n  const auth = store.getState().auth;\n  const auth_key = auth.user.auth_key;\n  const formData = new FormData();\n  for (let value in values) {\n    if ([\"gender\"].includes(value) && values[value] && typeof values[value] === \"object\") {\n      formData.append(value, values[value].value);\n    } else {\n      formData.append(value, values[value]);\n    }\n  }\n  const action = \"afterlogin/client/store\";\n  formData.append(\"auth_key\", auth_key);\n  formData.append(\"action\", action);\n  formData.append(\"role_id\", 6);\n  formData.append(\"salon_id\", auth.user.salon_id);\n  return axios.post(API_URL + action, formData, { headers: authHeader({ contentType: \"multipart/form-data\" }) });\n};\n\nconst update = (values) => {\n  const auth = store.getState().auth;\n  const auth_key = auth.user.auth_key;\n  const formData = new FormData();\n  for (let value in values) {\n    if ([\"gender\"].includes(value) && values[value] && typeof values[value] === \"object\") {\n      formData.append(value, values[value].value);\n    } else {\n      formData.append(value, values[value]);\n    }\n  }\n  const action = \"afterlogin/client/update/\" + values.id;\n  formData.append(\"auth_key\", auth_key);\n  formData.append(\"action\", action);\n  formData.append(\"role_id\", 6);\n  formData.append(\"salon_id\", auth.user.salon_id);\n  return axios.post(API_URL + action, formData, { headers: authHeader({ contentType: \"multipart/form-data\" }) });\n};\n\nconst view = (values) => {\n  const auth = store.getState().auth;\n  const auth_key = auth.user.auth_key;\n  const sort = values && values.sort;\n  const page = values && values.page;\n  const next_page_url = values && values.next_page_url;\n  const result = values && values.result ? values.result : '';\n  let sortstring = \"\";\n  if (sort) {\n    let sortArray = [];\n    Object.keys(sort).map(function (key, index) {\n      sortArray[index] = `sort[${key}]=${sort[key]}`;\n    });\n    if (sortArray.length > 0) {\n      let jsort = sortArray.join(\"&\");\n      sortstring = jsort;\n    }\n  }\n  const action = page ? `afterlogin/client/view?page=${page}&${sortstring}` : `afterlogin/client/view?${sortstring}`;\n  const data = {\n    auth_key: auth_key,\n    action: action,\n    role_id: 6,\n    salon_id: auth.user.salon_id,\n    pagination: values && values.id ? false : true, //true or false\n    id: values && values.id ? values.id : \"\",\n    field: values && values.id ? \"\" : \"first_name,last_name,email,profile_photo,phone_number\", // first_name,last_name,email\n    salon_field: false, //business_name,owner_name\n    result: result, //business_name,owner_name\n  };\n  return axios.post(next_page_url ? `${next_page_url}&${sortstring}` : API_URL + action, data, { headers: authHeader() });\n};\n\nconst deleted = (values) => {\n  const auth = store.getState().auth;\n  const auth_key = auth.user.auth_key;\n  const action = `afterlogin/client/delete/${values.id}`;\n  const data = {\n    auth_key: auth_key,\n    action: action,\n  };\n  return axios.post(API_URL + action, data, { headers: authHeader() });\n};\n\nconst suggetionlist = (values) => {\n  const auth = store.getState().auth;\n  const auth_key = auth.user.auth_key;\n  const page = values && values.page;\n  const next_page_url = values && values.next_page_url;\n  let q = values && values.q ? values.q : \"\";\n  const action = page ? `afterlogin/client/view?page=${page}&q=${q}` : `afterlogin/client/view?q=${q}`;\n  const data = {\n    auth_key: auth_key,\n    action: action,\n    role_id: 6,\n    salon_id: auth.user.salon_id,\n    pagination: true, //true or false\n    id: values && values.id ? values.id : \"\",\n    field: values && values.id ? \"\" : \"first_name,last_name,email,profile_photo,phone_number\", // first_name,last_name,email\n    salon_field: false, //business_name,owner_name\n  };\n  return axios.post(next_page_url ? `${next_page_url}&q=${q}` : API_URL + action, data, { headers: authHeader() });\n};\n\nconst clientApiController = {\n  create,\n  update,\n  view,\n  deleted,\n  suggetionlist,\n};\nexport default clientApiController;\n"]},"metadata":{},"sourceType":"module"}