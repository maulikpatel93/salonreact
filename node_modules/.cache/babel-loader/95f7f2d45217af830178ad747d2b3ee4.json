{"ast":null,"code":"var _jsxFileName = \"/opt/lampp/htdocs/git/salonreact/src/pages/auth/RestLogin.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useTranslation } from \"react-i18next\"; // validation Formik\n\nimport * as Yup from \"yup\";\nimport { Formik, Form } from \"formik\";\nimport yupconfig from \"../../yupconfig\";\nimport { FloatLabelInputField } from \"../../component/form/Field\"; //============================|| API JWT - LOGIN ||============================//\n\nimport { login } from \"../../store/slices/auth\";\nimport { clearMessage } from \"../../store/slices/message\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst RestLogin = () => {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const {\n    message\n  } = useSelector(state => state.message);\n  const account = useSelector(state => state.auth);\n  const {\n    isLoggedIn\n  } = account;\n  const dispatch = useDispatch();\n  const {\n    t\n  } = useTranslation();\n  useEffect(() => {\n    dispatch(clearMessage());\n  }, [dispatch]);\n  const initialValues = {\n    email: \"\",\n    password: \"\",\n    remember_me: \"\"\n  };\n  const validationSchema = Yup.object().shape({\n    email: Yup.string().label(\"Email\").email().required(),\n    password: Yup.string().min(6).max(16).label(\"Password\").required(),\n    remember_me: Yup.bool()\n  });\n  yupconfig();\n\n  const handleLogin = formValue => {\n    const {\n      email,\n      password,\n      remember_me\n    } = formValue;\n    setLoading(true);\n\n    try {\n      dispatch(login({\n        email,\n        password,\n        remember_me\n      })).then(action => {\n        if (action && action.meta && action.meta.requestStatus == 'rejected') {\n          setLoading(false);\n        }\n      });\n    } catch (err) {\n      console.error(err);\n      setLoading(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Formik, {\n    initialValues: initialValues,\n    validationSchema: validationSchema,\n    onSubmit: handleLogin,\n    children: _ref => {\n      let {\n        errors,\n        handleBlur,\n        handleChange,\n        handleSubmit,\n        isSubmitting,\n        touched,\n        values\n      } = _ref;\n      return /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-row align-items-center justify-content-center mb-5\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"fw-normal mb-0 me-3\",\n            children: t(\"sign_in\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FloatLabelInputField, {\n          name: \"email\",\n          type: \"text\",\n          placeholder: \"\",\n          label: t(\"email\"),\n          controlId: \"login-email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FloatLabelInputField, {\n          name: \"password\",\n          type: \"password\",\n          placeholder: \"\",\n          autoComplete: \"off\",\n          label: t(\"password\"),\n          controlId: \"login-password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-danger alert-dismissible fade show\",\n          role: \"alert\",\n          children: [message, /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-close\",\n            onClick: () => dispatch(clearMessage()),\n            \"data-bs-dismiss\": \"alert\",\n            \"aria-label\": \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-between align-items-center mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-check mb-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-check-input me-2\",\n              type: \"checkbox\",\n              value: \"\",\n              id: \"form2Example3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-check-label\",\n              htmlFor: \"form2Example3\",\n              children: t(\"remember_me\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"#!\",\n            className: \"text-body\",\n            children: t(\"forgot_password?\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-lg-start mt-4 pt-2\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary btn-lg\",\n            disabled: loading,\n            children: [loading && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"spinner-border spinner-border-sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 27\n            }, this), t(\"login\")]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n_s(RestLogin, \"GCq9UwPFQpP4q0m1jOt5oYV1Wcg=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useTranslation];\n});\n\n_c = RestLogin;\nexport default RestLogin;\n\nvar _c;\n\n$RefreshReg$(_c, \"RestLogin\");","map":{"version":3,"sources":["/opt/lampp/htdocs/git/salonreact/src/pages/auth/RestLogin.js"],"names":["React","useState","useEffect","Link","useSelector","useDispatch","useTranslation","Yup","Formik","Form","yupconfig","FloatLabelInputField","login","clearMessage","RestLogin","loading","setLoading","message","state","account","auth","isLoggedIn","dispatch","t","initialValues","email","password","remember_me","validationSchema","object","shape","string","label","required","min","max","bool","handleLogin","formValue","then","action","meta","requestStatus","err","console","error","errors","handleBlur","handleChange","handleSubmit","isSubmitting","touched","values"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport { useTranslation } from \"react-i18next\";\n\n// validation Formik\nimport * as Yup from \"yup\";\nimport { Formik, Form } from \"formik\";\nimport yupconfig from \"../../yupconfig\";\nimport { FloatLabelInputField } from \"../../component/form/Field\";\n\n//============================|| API JWT - LOGIN ||============================//\nimport { login } from \"../../store/slices/auth\";\nimport { clearMessage } from \"../../store/slices/message\";\n\nconst RestLogin = () => {\n  const [loading, setLoading] = useState(false);\n  const { message } = useSelector((state) => state.message);\n  const account = useSelector((state) => state.auth);\n  const { isLoggedIn } = account;\n\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    dispatch(clearMessage());\n  }, [dispatch]);\n\n  const initialValues = {\n    email: \"\",\n    password: \"\",\n    remember_me: \"\",\n  };\n\n  const validationSchema = Yup.object().shape({\n    email: Yup.string().label(\"Email\").email().required(),\n    password: Yup.string().min(6).max(16).label(\"Password\").required(),\n    remember_me: Yup.bool(),\n  });\n  yupconfig();\n\n  const handleLogin = (formValue) => {\n    const { email, password, remember_me } = formValue;\n    setLoading(true);\n    try {\n      dispatch(login({ email, password, remember_me })).then((action) => {\n        if(action && action.meta && action.meta.requestStatus == 'rejected'){\n          setLoading(false);\n        }\n      });\n    } catch (err) {\n      console.error(err);\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Formik initialValues={initialValues} validationSchema={validationSchema} onSubmit={handleLogin}>\n      {({ errors, handleBlur, handleChange, handleSubmit, isSubmitting, touched, values }) => (\n        <Form>\n          <div className=\"d-flex flex-row align-items-center justify-content-center mb-5\">\n            <h1 className=\"fw-normal mb-0 me-3\">{t(\"sign_in\")}</h1>\n          </div>\n          <FloatLabelInputField name=\"email\" type=\"text\" placeholder=\"\" label={t(\"email\")} controlId=\"login-email\" />\n          <FloatLabelInputField name=\"password\" type=\"password\" placeholder=\"\" autoComplete=\"off\" label={t(\"password\")} controlId=\"login-password\" />\n          \n          {message && (\n              <div className=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\n                {message}\n                <button type=\"button\" className=\"btn-close\" onClick={() => dispatch(clearMessage())} data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\n              </div>\n          )}\n          <div className=\"d-flex justify-content-between align-items-center mb-3\">\n            <div className=\"form-check mb-0\">\n              <input className=\"form-check-input me-2\" type=\"checkbox\" value=\"\" id=\"form2Example3\" />\n              <label className=\"form-check-label\" htmlFor=\"form2Example3\">\n                {t(\"remember_me\")}\n              </label>\n            </div>\n            <Link to=\"#!\" className=\"text-body\">\n              {t(\"forgot_password?\")}\n            </Link>\n          </div>\n          <div className=\"text-center text-lg-start mt-4 pt-2\">\n            <button type=\"submit\" className=\"btn btn-primary btn-lg\" disabled={loading}>\n              {loading && <span className=\"spinner-border spinner-border-sm\"></span>}\n              {t(\"login\")}\n            </button>\n          </div>\n        </Form>\n      )}\n    </Formik>\n  );\n};\n\nexport default RestLogin;\n"]},"metadata":{},"sourceType":"module"}